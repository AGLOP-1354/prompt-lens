# PromptLens - Product Requirements Document (PRD)

## 1. 프로젝트 개요

### 1.1 제품 비전
PromptLens는 AI 프롬프트의 품질을 객관적으로 평가하고, 구체적인 개선 방향을 제시하는 웹 기반 분석 도구입니다. 사용자가 작성한 프롬프트를 다각도로 분석하여 점수화하고, 실질적인 개선 제안을 통해 더 효과적인 AI 활용을 지원합니다.

### 1.2 목표
- 프롬프트 작성 품질에 대한 객관적 지표 제공
- 명확하고 실행 가능한 개선 제안 제공
- 직관적이고 빠른 피드백 경험 제공

## 2. 핵심 기능

### 2.1 사용자 인증 시스템
**기능 설명:**
- Supabase Auth 기반 소셜 로그인
- 지원 플랫폼: 카카오, 구글
- 로그인 모달 UI (비로그인 시 자동 표시)
- 세션 관리 및 자동 갱신

**인증 플로우:**
1. 비로그인 사용자: 분석 기능 사용 가능, 저장 기능 제한
2. 로그인 사용자: 모든 기능 사용 가능 (저장, 기록, 설정)
3. 보호된 페이지 접근 시 자동 로그인 모달 표시

### 2.2 프롬프트 입력 인터페이스
**기능 설명:**
- 사용자가 프롬프트를 입력할 수 있는 텍스트 에어리어
- 최소 200자 이상 최대 5,000자까지 입력 가능
- 실시간 글자 수 카운터 표시
- 입력 중 자동 저장 (로컬 스토리지)

**입력 제약사항:**
- 빈 문자열 제출 불가
- 10자 미만의 프롬프트는 경고 메시지와 함께 제출 제한

### 2.3 평가 점수 시스템

**전체 점수 (100점 만점)**
다음 5개 항목의 가중 평균으로 계산:

1. **명확성 (Clarity) - 25점**
   - 프롬프트의 목적과 의도가 명확한가?
   - 요청 사항이 구체적으로 기술되어 있는가?
   - 모호한 표현이나 중의적 해석의 여지는 없는가?

2. **구체성 (Specificity) - 25점**
   - 필요한 세부 정보가 충분히 포함되어 있는가?
   - 출력 형식, 길이, 스타일 등이 명시되어 있는가?
   - 구체적인 예시나 컨텍스트가 제공되는가?

3. **구조화 (Structure) - 20점**
   - 논리적인 순서로 정보가 배열되어 있는가?
   - 단락이나 구분이 적절히 사용되었는가?
   - 복잡한 요청이 단계별로 나뉘어 있는가?

4. **완전성 (Completeness) - 20점**
   - AI가 답변하는 데 필요한 모든 정보가 포함되어 있는가?
   - 제약 조건이나 주의사항이 명시되어 있는가?
   - 역할, 맥락, 목표가 적절히 설명되어 있는가?

5. **효율성 (Efficiency) - 10점**
   - 불필요한 반복이나 장황한 설명이 없는가?
   - 핵심 내용을 간결하게 전달하는가?
   - 토큰 효율성이 고려되었는가?

**점수 등급:**
- 90-100점: Excellent (탁월함)
- 75-89점: Good (우수함)
- 60-74점: Fair (보통)
- 45-59점: Poor (미흡함)
- 0-44점: Very Poor (매우 미흡함)

### 2.4 상세 분석 결과 화면

**점수 시각화:**
- 전체 점수를 큰 원형 게이지로 표시
- 각 평가 항목별 점수를 바 차트 또는 레이더 차트로 시각화
- 등급에 따른 색상 구분 (Excellent: 초록, Good: 연두, Fair: 노랑, Poor: 주황, Very Poor: 빨강)

**항목별 상세 피드백:**
각 평가 항목마다 다음 정보 제공:
- 획득 점수 / 만점
- 현재 상태 설명 (2-3문장)
- 개선이 필요한 구체적인 부분 (불릿 포인트)
- 개선 예시 (Before/After 형식)

**종합 피드백:**
- 전체적인 프롬프트 품질 평가 요약
- 가장 강점인 부분 1-2가지
- 가장 개선이 시급한 부분 1-2가지
- 우선순위별 개선 액션 아이템 (3-5개)
- 저장하기 버튼 (로그인 사용자 전용)

### 2.5 개선된 프롬프트 제안

**기능 설명:**
- AI가 분석 결과를 바탕으로 개선된 프롬프트 버전 제시
- 원본 프롬프트와 개선 프롬프트를 나란히 비교할 수 있는 뷰
- 개선된 부분을 하이라이트로 표시
- 각 개선 사항에 대한 간단한 설명 툴팁

**제공 형식:**
- 개선된 프롬프트 전문
- 주요 변경 사항 요약 (불릿 포인트)
- 예상 개선 점수 표시
- 복사 버튼으로 원클릭 복사 가능

### 2.6 저장한 프롬프트 관리 (로그인 사용자 전용)
**기능 설명:**
- 프롬프트를 제목과 함께 저장
- 태그 기반 분류 및 관리
- 즐겨찾기 기능
- 검색 및 필터링 (즐겨찾기, 태그)
- 프롬프트 수정, 삭제, 복사

**화면 구성:**
- 2단 레이아웃: 좌측 목록 + 우측 상세
- 프롬프트 카드 형식의 목록 뷰
- 상세 뷰에서 전체 내용 및 메타데이터 표시

### 2.7 분석 기록 조회 (로그인 사용자 전용)
**기능 설명:**
- 과거 분석 결과 열람
- 분석 기록 목록 및 상세 보기
- 점수 추이 확인
- 기록 삭제 기능

**화면 구성:**
- 2단 레이아웃: 좌측 기록 목록 + 우측 분석 상세
- 각 기록별 점수, 등급, 날짜 표시
- 상세 뷰에서 전체 분석 결과 확인

### 2.8 설정 및 계정 관리 (로그인 사용자 전용)
**기능 설명:**
- 계정 정보 확인 (이메일, 가입일)
- 사용 통계 (저장한 프롬프트 수, 분석 횟수, 평균 점수)
- 로그아웃
- 계정 삭제 (향후 구현)

## 3. 사용자 시나리오

### 3.1 비로그인 사용자 플로우
1. 사용자가 PromptLens 웹사이트 접속
2. 메인 화면에서 프롬프트 입력 에어리어 확인
3. 분석하고 싶은 프롬프트 입력
4. "분석하기" 버튼 클릭
5. 3-5초 로딩 후 분석 결과 화면 표시
6. 점수, 상세 피드백, 개선 제안 확인
7. 개선된 프롬프트를 복사하여 사용
8. (선택) 로그인하여 결과 저장

### 3.2 로그인 사용자 플로우
1. 카카오 또는 구글 계정으로 로그인
2. 메인 화면에서 프롬프트 분석 수행
3. "저장하기" 버튼으로 분석 결과 저장
4. 프롬프트 제목 입력 후 저장
5. `/main/saved`에서 저장한 프롬프트 관리
6. `/main/history`에서 분석 기록 확인
7. `/main/settings`에서 계정 정보 및 통계 확인

### 3.3 사용자 페르소나

**페르소나 1: AI 입문자 (수진, 28세, 마케터)**
- 처음 AI 도구를 업무에 활용하려는 사용자
- 프롬프트 작성 방법을 잘 모르고 막연한 질문을 하는 경향
- 명확하고 쉬운 설명이 필요
- 예시와 Before/After 비교를 통한 학습 선호

**페르소나 2: 중급 사용자 (민호, 35세, 개발자)**
- AI를 자주 사용하지만 더 효율적인 프롬프트를 작성하고 싶은 사용자
- 자신의 프롬프트가 얼마나 효과적인지 객관적 지표 필요
- 구체적이고 기술적인 개선 제안 선호
- 빠른 피드백과 즉시 적용 가능한 개선안 원함

**페르소나 3: 전문가 (지영, 42세, AI 컨설턴트)**
- 클라이언트에게 프롬프트 엔지니어링 교육 제공
- 프롬프트 품질을 평가할 객관적 기준 필요
- 상세한 분석과 이론적 배경 중시
- 다양한 사례를 수집하고 비교 분석

## 4. 화면 구성

### 4.1 메인 화면 (입력 및 결과 통합 화면)
**디자인 컨셉:**
- 전통적인 웹사이트 레이아웃을 벗어난 미니멀리즘
- 헤더/푸터 없는 풀스크린 인터페이스
- 즉시 사용 가능한 직관적 구성

**레이아웃:**
- **좌측 영역 (50%)**: 프롬프트 입력 섹션
  - 화면 전체를 채우는 텍스트 입력 영역
  - 라벨 없이 플레이스홀더로 안내
  - 하단: 글자 수 카운터 및 유효성 메시지
  - 하단 중앙: 플로팅 "프롬프트 분석하기" 버튼 (공중에 떠있는 형태)

- **우측 영역 (50%)**: 결과 표시 섹션
  - 초기 상태: 빈 상태 메시지 (프롬프트 입력 안내)
  - 분석 중: 로딩 애니메이션
  - 완료 후: 실시간 결과 표시
    - 전체 점수 게이지 (상단)
    - 5개 평가 항목별 점수 시각화 (프로그레스 바)
    - 각 항목별 점수 및 등급 표시

- **우측 하단**: 플로팅 메뉴 버튼
  - 아이콘만 있는 원형 버튼
  - 클릭 시 메뉴 패널 표시 (오버레이 없음)
  - 메뉴 항목: 분석, 소개, GitHub

**UI/UX 원칙:**
- 극도로 미니멀한 디자인 (불필요한 요소 제거)
- 즉시 사용 가능한 인터페이스 (학습 불필요)
- 입력과 결과를 한 화면에서 동시 확인
- 플로팅 요소로 깔끔한 화면 유지

### 4.2 소개 페이지 (/about)
**레이아웃:**
- 서비스 소개 및 주요 기능 설명
- Features: 5가지 평가 지표 상세 설명
- Benefits: 서비스 사용 시 얻을 수 있는 이점
- How it works: 사용 방법 안내
- 우측 하단: 플로팅 메뉴 버튼 (일관성 유지)

**UI/UX 원칙:**
- 스크롤하며 단계적으로 정보 확인
- 시각적 아이콘과 함께 직관적 설명
- 메인 페이지로 쉽게 돌아갈 수 있는 네비게이션

### 4.3 네비게이션 시스템
**플로팅 메뉴:**
- 위치: 화면 우측 하단 고정
- 형태: 원형 아이콘 버튼 (햄버거 메뉴)
- 기능:
  - 분석 페이지로 이동 (/)
  - 소개 페이지로 이동 (/about)
  - GitHub 저장소 링크
- 특징:
  - 오버레이/백드롭 없음
  - 메뉴 패널만 부드럽게 나타남
  - 현재 페이지 하이라이트

### 4.4 로그인 사용자 전용 페이지

#### 4.4.1 저장한 프롬프트 페이지 (/main/saved)
**레이아웃:**
- 사이드바 네비게이션 (좌측)
  - 로고 및 홈 버튼
  - 메뉴: 저장한 프롬프트, 분석 기록, 설정
  - 사용자 정보 및 로그아웃
- 2단 레이아웃 (우측)
  - 좌측 (50%): 프롬프트 목록
    - 검색바 및 즐겨찾기 필터
    - 프롬프트 카드 (제목, 내용 미리보기, 날짜, 태그)
  - 우측 (50%): 선택된 프롬프트 상세
    - 제목 및 액션 버튼 (복사, 삭제)
    - 전체 내용
    - 태그 목록
    - 메타데이터 (생성일, 수정일)

**기능:**
- 검색 (제목, 내용, 태그)
- 즐겨찾기 필터
- 프롬프트 복사, 삭제
- 즐겨찾기 토글

#### 4.4.2 분석 기록 페이지 (/main/history)
**레이아웃:**
- 사이드바 네비게이션 (좌측)
- 2단 레이아웃 (우측)
  - 좌측 (50%): 분석 기록 목록
    - 각 기록별 점수, 등급, 날짜 표시
    - 프롬프트 미리보기
  - 우측 (50%): 선택된 분석 상세
    - 종합 점수 및 등급
    - 5가지 세부 점수 시각화
    - 원본 프롬프트
    - 종합 평가, 강점, 개선점
    - 개선된 프롬프트 (있는 경우)
    - 삭제 버튼

**기능:**
- 분석 기록 목록 조회
- 상세 분석 결과 확인
- 프롬프트 복사 (원본/개선)
- 기록 삭제

#### 4.4.3 설정 페이지 (/main/settings)
**레이아웃:**
- 사이드바 네비게이션 (좌측)
- 단일 컬럼 레이아웃 (우측)
  - 계정 정보 섹션
    - 프로필 사진, 이름, 이메일
    - 가입일
  - 사용 통계 섹션
    - 저장한 프롬프트 수
    - 분석 횟수
    - 평균 점수
  - 로그아웃 섹션
  - 위험 영역 (계정 삭제)

**기능:**
- 계정 정보 조회
- 통계 확인
- 로그아웃
- 계정 삭제 (향후 구현)

### 4.5 반응형 디자인
- **데스크톱 (1024px 이상)**:
  - 2단 레이아웃 유지
  - 좌우 50:50 분할
  - 플로팅 버튼 최적 배치

- **태블릿 (768px-1023px)**:
  - 2단 레이아웃 유지 (비율 조정 가능)
  - 입력 영역 약간 넓게

- **모바일 (767px 이하)**:
  - 단일 컬럼 레이아웃
  - 입력 영역과 결과 영역 세로 배치
  - 플로팅 버튼 크기 조정

## 5. 기술적 제약사항 및 요구사항

### 5.1 기술 스택
**프론트엔드:**
- Next.js 16 (App Router)
- React 19
- TypeScript
- Tailwind CSS 4
- Framer Motion (애니메이션)
- Lucide React (아이콘)

**백엔드:**
- Next.js API Routes
- Supabase (PostgreSQL)
- Supabase Auth (OAuth)
- Solar AI (프롬프트 분석)

**데이터베이스:**
- `profiles` - 사용자 프로필 (auth.users 확장)
- `prompt_analyses` - 분석 기록
- `saved_prompts` - 저장한 프롬프트
- `analysis_feedback` - 사용자 피드백

### 5.2 성능 요구사항
- 프롬프트 분석 응답 시간: 5초 이내
- 페이지 초기 로딩: 2초 이내
- 모든 사용자 인터랙션 응답: 100ms 이내

### 5.3 브라우저 지원
- Chrome (최신 버전)
- Firefox (최신 버전)
- Safari (최신 버전)
- Edge (최신 버전)

### 5.4 보안 및 프라이버시
**데이터 저장 정책:**
- 비로그인 사용자: 프롬프트 및 분석 결과를 서버에 저장하지 않음
- 로그인 사용자: 명시적 저장 요청 시에만 데이터 저장
  - 분석 기록: 자동 저장 (`prompt_analyses` 테이블)
  - 프롬프트: 사용자 요청 시 저장 (`saved_prompts` 테이블)

**보안 조치:**
- HTTPS 통신 필수
- Supabase Row Level Security (RLS) 적용
- 사용자는 본인 데이터만 접근 가능
- OAuth 기반 안전한 인증
- 세션 자동 갱신 및 관리

## 6. 비기능적 요구사항

### 6.1 접근성
- WCAG 2.1 AA 수준 준수
- 키보드 네비게이션 완전 지원
- 스크린 리더 호환성

### 6.2 다국어 지원 (초기 버전)
- 한국어 우선 지원
- 향후 영어 추가 계획

### 6.3 에러 처리
- 네트워크 오류 시 명확한 에러 메시지
- 입력 검증 실패 시 안내 메시지
- API 타임아웃 시 재시도 옵션 제공

## 7. 성공 지표

### 7.1 사용성 지표
- 평균 분석 완료율: 80% 이상
- 개선 프롬프트 복사율: 60% 이상
- 재방문율: 40% 이상

### 7.2 품질 지표
- 사용자 만족도 (1-5점): 4.0 이상
- 피드백 유용성 평가 (1-5점): 4.0 이상
- 페이지 이탈률: 30% 이하

## 8. 구현 현황 및 향후 확장 계획

### 8.1 현재 버전 (v1.0) - 구현 완료 ✅
**핵심 기능:**
- 프롬프트 분석 (5가지 항목 평가)
- 개선 제안 및 피드백
- 실시간 결과 표시

**사용자 관리:**
- Supabase OAuth 로그인 (카카오, 구글)
- 세션 관리 및 인증 가드
- 로그인 모달

**데이터 관리:**
- 저장한 프롬프트 관리 (`/main/saved`)
  - 검색, 즐겨찾기, 태그
  - 프롬프트 CRUD
- 분석 기록 조회 (`/main/history`)
  - 과거 분석 결과 확인
  - 상세 분석 뷰
- 설정 페이지 (`/main/settings`)
  - 계정 정보
  - 사용 통계
  - 로그아웃

### 8.2 Phase 2 기능 (계획)
- 프롬프트 템플릿 라이브러리
- 팀 협업 기능
- 고급 통계 대시보드 (점수 추이 그래프)
- 프롬프트 버전 관리
- 프롬프트 공유 기능

### 8.3 Phase 3 기능 (계획)
- Public API 제공
- 브라우저 익스텐션 (Chrome, Firefox)
- 실시간 프롬프트 개선 제안 (타이핑하면서)
- A/B 테스트 기능 (두 프롬프트 비교)
- 프롬프트 마켓플레이스
- 커뮤니티 기능 (댓글, 공유)

## 9. 제외 사항 (Out of Scope)

현재 버전에서는 다음 사항을 포함하지 않음:
- 유료 구독 모델
- 프롬프트 템플릿 라이브러리
- 팀 협업 기능
- 고급 통계 대시보드 (점수 추이 그래프 등)
- Public API 제공
- 브라우저 익스텐션
- 실시간 프롬프트 개선 제안
- 커뮤니티 기능 (댓글, 공유 등)
- 프롬프트 마켓플레이스
- A/B 테스트 기능

## 10. 부록

### 10.1 프롬프트 평가 기준 상세 가이드

**명확성 평가 기준:**
- 목적이 한 문장으로 요약 가능한가?
- "이것", "그것" 같은 모호한 지시어가 없는가?
- 여러 가지로 해석될 수 있는 표현이 없는가?

**구체성 평가 기준:**
- 출력 형식이 명시되어 있는가? (리스트, 문단, 표 등)
- 분량이나 길이가 지정되어 있는가?
- 톤앤매너나 스타일이 언급되어 있는가?

**구조화 평가 기준:**
- 요청사항이 순서대로 나열되어 있는가?
- 복잡한 작업이 단계로 구분되어 있는가?
- 번호나 불릿 포인트로 정리되어 있는가?

**완전성 평가 기준:**
- 역할(role)이 정의되어 있는가?
- 배경 맥락(context)이 제공되어 있는가?
- 제약사항이나 금지사항이 명시되어 있는가?

**효율성 평가 기준:**
- 같은 내용을 반복해서 설명하지 않는가?
- 불필요한 수식어나 장황한 표현이 없는가?
- 핵심만 간결하게 전달하는가?

---

**문서 버전:** 2.0
**최종 수정일:** 2025-01-31
**작성자:** PromptLens Team

## 변경 이력
- **v2.0 (2025-01-31)**: 구현 완료 기능 반영
  - 사용자 인증 시스템 추가 (Supabase OAuth)
  - 저장한 프롬프트 관리 기능 추가
  - 분석 기록 조회 기능 추가
  - 설정 페이지 추가
  - 로그인 사용자 전용 페이지 명세 추가
  - 기술 스택 상세화
  - 보안 및 프라이버시 정책 업데이트
  - Phase 구분 재정의 (현재 v1.0 구현 완료)
- **v1.1 (2025-10-29)**: 화면 구성 전면 개편 (풀스크린 2단 레이아웃, 플로팅 UI, 헤더/푸터 제거)
- **v1.0 (2025-10-28)**: 초기 문서 작성